/* ===== DARK MODE (MẶC ĐỊNH) ===== */
:root {
  --bg-color: #1a1a1a;
  --text-color: #e0e0e0;
  --card-bg: #282828;
  --item-hover: #3a3a3a;
  --active-bg: #1db954; /* Spotify green */
  --active-text: #ffffff;
  --border-color: #3a3a3a;

  --control-btn-bg: #333333; /* Nền nút điều khiển */
  --control-btn-hover: #4d4d4d; /* Hover nút điều khiển */
  --play-pause-btn-bg: #1db954; /* Nền nút Play/Pause */
  --play-pause-btn-hover: #1ed760; /* Hover nút Play/Pause */

  --range-track-bg: #5a5a5a; /* Nền thanh range (phần chưa qua) */
  --range-thumb-bg: #1db954; /* Nút kéo thanh range */
  --range-filled-bg: #1db954; /* MÀU PHẦN ĐÃ QUA TRÊN THANH TIẾN TRÌNH VÀ VOLUME */

  --toggle-btn-bg-dark-mode: #000000;
  --toggle-btn-text-dark-mode: #ffffff;
  --toggle-btn-hover-bg-dark-mode: #ffffff;
  --toggle-btn-hover-text-dark-mode: #000000;

  --icon-color: #e0e0e0; /* Màu mặc định của icon trong Dark Mode */
  --icon-hover-color: #ffffff; /* Màu icon khi hover trong Dark Mode */
  --play-pause-icon-color: #ffffff; /* Mặc định icon Play/Pause */
  --active-icon-color: #1db954; /* Màu icon khi ở trạng thái active (shuffle, repeat) */
  --time-text-color: #ffffff; /* Màu cho thời gian trong Dark Mode */
}

.light-mode {
  --bg-color: #f0f2f5;
  --text-color: #333333;
  --card-bg: #ffffff;
  --item-hover: #e6e6e6;
  --active-bg: #cce5ff;
  --active-text: #000000;
  --border-color: #dddddd;

  --control-btn-bg: #e0e0e0; /* Nền nút điều khiển */
  --control-btn-hover: #cccccc; /* Hover nút điều khiển */
  --play-pause-btn-bg: #333333; /* Nền nút Play/Pause màu đen */
  --play-pause-btn-hover: #1a1a1a; /* Hover nút Play/Pause màu đen đậm hơn */

  --range-track-bg: #cccccc;
  --range-thumb-bg: #007bff;
  --range-filled-bg: #007bff; /* MÀU PHẦN ĐÃ QUA TRONG LIGHT MODE */

  --toggle-btn-bg-light-mode: #ffffff;
  --toggle-btn-text-light-mode: #000000;
  --toggle-btn-hover-bg-light-mode: #000000;
  --toggle-btn-hover-text-light-mode: #ffffff;

  --icon-color: #333333; /* Màu mặc định của icon trong Light Mode */
  --icon-hover-color: #000000; /* Màu icon khi hover trong Light Mode */
  --play-pause-icon-color: #ffffff; /* Vẫn giữ trắng để tương phản với nền đen của nút */
  --active-icon-color: #007bff; /* Màu icon khi ở trạng thái active */
  --time-text-color: #333333; /* Màu cho thời gian trong Light Mode */
}

html,
body {
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: "Roboto", sans-serif;
  transition: background-color 0.4s ease, color 0.4s ease;
  min-height: 100vh;
}

/* Đảm bảo toàn bộ container phù hợp với background */
.container-fluid {
  background-color: var(--bg-color); /* Có thể bỏ dòng này nếu body đã xử lý */
  min-height: 100vh;
}

h2,
h4 {
  color: var(--text-color) !important;
}

/* Sửa lại #player để nó là flex container chính cho nội dung và visualizer */
#player {
  background-color: var(--card-bg);
  padding: 0; /* Bỏ padding ở đây để các div con tự xử lý */
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  /* flex-direction: column mặc định cho mobile, flex-md-row cho desktop đã có trong HTML */
  align-items: stretch; /* Đảm bảo các cột con có cùng chiều cao */
  justify-content: center;
  height: auto; /* Để nó co giãn theo nội dung, hoặc đặt chiều cao cố định cho desktop */
  min-height: 500px; /* Chiều cao tối thiểu cho player để visualizer có chỗ */
}

/* Phần nội dung chính của player (bên trái) */
.player-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px; /* Padding riêng cho nội dung bên trong */
}

/* Container cho visualizer (bên phải) */
#visualizer-container {
  /* Các thuộc tính flexbox đã có trong HTML (d-flex, justify-content-center, align-items-center) */
  background-color: transparent; /* Nền trong suốt để hòa hợp với card-bg của player */
  border-radius: 15px; /* Giữ bo tròn nếu muốn */
  padding: 20px; /* Optional padding */
}

/* Kích thước của Visualizer canvas */
#visualizer {
  background-color: transparent; /* Nền trong suốt cho canvas */
  /* Kích thước được định nghĩa trong HTML attributes: width="150" height="400" */
  /* Bạn có thể ghi đè bằng CSS nếu muốn responsive hơn, nhưng attributes ưu tiên cho rendering */
  max-width: 100%; /* Đảm bảo responsive */
  height: auto; /* Giữ tỉ lệ nếu width thay đổi */
}

/* Responsive cho desktop */
@media (min-width: 768px) {
  #player {
    /* flex-direction: row; đã có trong HTML (flex-md-row) */
    align-items: stretch; /* Căn chỉnh các mục để có cùng chiều cao */
    max-width: 900px; /* Giới hạn chiều rộng tổng thể của player trên desktop */
    margin: 0 auto; /* Căn giữa player trên màn hình lớn */
    min-height: 500px; /* Đặt chiều cao cố định cho player để visualizer vừa vặn */
  }

  .player-content {
    flex: 3; /* Chiếm 3 phần không gian */
    padding: 30px; /* Padding cho nội dung chính */
    border-right: 1px solid var(--border-color); /* Đường phân cách */
  }

  #visualizer-container {
    flex: 1; /* Chiếm 1 phần không gian */
    padding: 20px; /* Padding cho visualizer */
  }
}

/* -------------------- Các phần CSS còn lại -------------------- */

.song-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 25px;
}

#song-img {
  width: 220px;
  height: 220px;
  object-fit: cover;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s ease;
}

#song-img:hover {
  transform: scale(1.02);
}

#current-song {
  margin-top: 20px;
  font-size: 1.5rem;
  font-weight: 500;
  color: var(--text-color);
  text-align: center;
}

.controls {
  display: flex;
  gap: 20px;
  margin-top: 20px;
  margin-bottom: 30px;
  align-items: center;
}

/* Base style for all control buttons */
.btn-control {
  background-color: var(--control-btn-bg);
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s ease, transform 0.2s ease;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden; /* Quan trọng để các pseudo-elements không tràn ra ngoài */
}

.btn-control:hover {
  background-color: var(--control-btn-hover);
  transform: translateY(-2px);
}

.play-pause-icon {
  position: relative;
  display: inline-block;
  width: 30px;
  height: 30px;
}

.btn-play-pause {
  background-color: var(
    --icon-color
  ); /* Updated to use icon-color for consistency */
  width: 80px;
  height: 80px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.btn-play-pause:hover {
  background-color: var(
    --icon-hover-color
  ); /* Updated to use icon-hover-color */
  transform: translateY(-3px);
}

/* CÁC ICON ĐIỀU KHIỂN BẰNG CSS */

/* Base for all icons */
.control-icon::before,
.control-icon::after {
  content: "";
  position: absolute;
  display: block;
  transition: all 0.3s ease; /* Thêm transition cho mọi thay đổi */
}

/* Play Icon (default) */
.play-pause-icon::before {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-top: 13px solid transparent; /* Giảm kích thước */
  border-bottom: 13px solid transparent; /* Giảm kích thước */
  border-left: 20px solid var(--icon-color); /* Giảm kích thước */
  left: 55%; /* Tinh chỉnh vị trí để trông cân đối hơn */
  top: 50%;
  transform: translate(-50%, -50%);
}
.play-pause-icon::after {
  content: none;
}

.btn-play-pause.playing .play-pause-icon::before,
.btn-play-pause.playing .play-pause-icon::after {
  content: "";
  position: absolute;
  background-color: var(--icon-color);
  border: none;
  width: 4px;
  height: 25px;
  top: 50%;
  transform: translate(-50%, -50%);
}

.btn-play-pause.playing .play-pause-icon::before {
  left: calc(50% - 6px);
}

.btn-play-pause.playing .play-pause-icon::after {
  left: calc(50% + 6px);
}

/* Prev Icon */
.prev-icon::before {
  border-style: solid;
  border-width: 10px 15px 10px 0; /* Tam giác chỉ về trái */
  border-color: transparent var(--icon-color) transparent transparent;
  left: calc(50% + 5px); /* Dịch sang phải một chút */
  top: 50%;
  transform: translate(-50%, -50%);
}
.prev-icon::after {
  /* Gạch của prev icon */
  width: 5px;
  height: 20px;
  background-color: var(--icon-color);
  left: calc(50% - 10px); /* Vị trí gạch */
  top: 50%;
  transform: translate(-50%, -50%);
}
.btn-control:hover .prev-icon::before {
  /* Hover color for triangle */
  border-color: transparent var(--icon-hover-color) transparent transparent;
}
.btn-control:hover .prev-icon::after {
  background-color: var(--icon-hover-color);
}

/* Next Icon */
.next-icon::before {
  border-style: solid;
  border-width: 10px 0 10px 15px; /* Tam giác chỉ về phải */
  border-color: transparent transparent transparent var(--icon-color);
  left: calc(50% - 5px); /* Dịch sang trái một chút */
  top: 50%;
  transform: translate(-50%, -50%);
}
.next-icon::after {
  /* Gạch của next icon */
  width: 5px;
  height: 20px;
  background-color: var(--icon-color);
  left: calc(50% + 10px); /* Vị trí gạch */
  top: 50%;
  transform: translate(-50%, -50%);
}
.btn-control:hover .next-icon::before {
  /* Hover color for triangle */
  border-color: transparent transparent transparent var(--icon-hover-color);
}
.btn-control:hover .next-icon::after {
  background-color: var(--icon-hover-color);
}

/* Shuffle Icon */
.shuffle-icon::before {
  width: 20px;
  height: 2px;
  background-color: var(--icon-color);
  transform: translate(-50%, -50%) rotate(45deg);
  top: calc(50% - 7px); /* Dịch lên trên trái */
  left: calc(50% - 7px);
}
.shuffle-icon::after {
  width: 20px;
  height: 2px;
  background-color: var(--icon-color);
  transform: translate(-50%, -50%) rotate(-45deg);
  top: calc(50% + 7px); /* Dịch xuống dưới phải */
  left: calc(50% + 7px);
}

/* Active/Hover states for shuffle icon */
.shuffle-icon.active::before,
.shuffle-icon.active::after {
  background-color: var(--active-icon-color); /* Màu khi active */
}
.btn-control:hover .shuffle-icon::before,
.btn-control:hover .shuffle-icon::after {
  background-color: var(--icon-hover-color);
}

/* Repeat Icon */
.repeat-icon::before {
  /* Vòng tròn */
  width: 20px;
  height: 20px;
  border: 2px solid var(--icon-color);
  border-radius: 50%;
  border-top-color: transparent; /* Giữ phần trên trong suốt để tạo hiệu ứng mũi tên */
  transform: translate(-50%, -50%) rotate(-45deg);
  box-sizing: border-box;
}
.repeat-icon::after {
  /* Mũi tên nhỏ */
  width: 0;
  height: 0;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid var(--icon-color);
  top: calc(50% - 5px);
  left: calc(50% + 8px);
  transform: translate(-50%, -50%) rotate(45deg);
}

/* Active/Hover states for repeat icon */
.repeat-icon.active::before {
  border-color: var(--active-icon-color);
  border-top-color: transparent;
}
.repeat-icon.active::after {
  border-left-color: var(--active-icon-color);
}
.btn-control:hover .repeat-icon::before {
  border-color: var(--icon-hover-color);
  border-top-color: transparent;
}
.btn-control:hover .repeat-icon::after {
  border-left-color: var(--icon-hover-color);
}

/* Repeat One (biểu tượng số 1 nhỏ) */
.repeat-icon.repeat-one::before {
  /* Vòng tròn giữ nguyên */
  border-color: var(--active-icon-color);
  border-top-color: transparent;
  content: ""; /* Đảm bảo không có content mặc định */
}
.repeat-icon.repeat-one::after {
  /* Loại bỏ mũi tên */
  content: "1"; /* Đặt số 1 vào after */
  font-size: 14px;
  font-weight: bold;
  color: var(--active-icon-color);
  width: auto;
  height: auto; /* Điều chỉnh kích thước cho text */
  border: none;
  background: none; /* Bỏ các thuộc tính hình dạng cũ */
  top: 50%; /* Căn giữa */
  left: 50%; /* Căn giữa */
  transform: translate(-50%, -50%); /* Căn giữa */
}
/* Hover cho Repeat One: vẫn là màu hover thông thường */
.btn-control:hover .repeat-icon.repeat-one::before {
  border-color: var(--icon-hover-color);
  border-top-color: transparent;
}
.btn-control:hover .repeat-icon.repeat-one::after {
  color: var(--icon-hover-color);
}

.rewind-icon::before {
  content: "";
  width: 0;
  height: 0;
  border-top: 7px solid transparent;
  border-bottom: 7px solid transparent;
  border-right: 12px solid var(--icon-color); /* Arrow pointing left */
  position: absolute;
  left: calc(50% - 5px);
  top: 50%;
  transform: translate(-50%, -50%);
}
.rewind-icon::after {
  content: "10"; /* Text for 10 seconds */
  font-size: 10px;
  font-weight: bold;
  color: var(--icon-color);
  position: absolute;
  left: calc(50% + 8px);
  top: 50%;
  transform: translate(-50%, -50%);
}
.btn-control:hover .rewind-icon::before {
  border-right-color: var(--icon-hover-color);
}
.btn-control:hover .rewind-icon::after {
  color: var(--icon-hover-color);
}

.forward-icon::before {
  content: "";
  width: 0;
  height: 0;
  border-top: 7px solid transparent;
  border-bottom: 7px solid transparent;
  border-left: 12px solid var(--icon-color); /* Arrow pointing right */
  position: absolute;
  left: calc(50% + 5px);
  top: 50%;
  transform: translate(-50%, -50%);
}
.forward-icon::after {
  content: "10"; /* Text for 10 seconds */
  font-size: 10px;
  font-weight: bold;
  color: var(--icon-color);
  position: absolute;
  left: calc(50% - 8px);
  top: 50%;
  transform: translate(-50%, -50%);
}
.btn-control:hover .forward-icon::before {
  border-left-color: var(--icon-hover-color);
}
.btn-control:hover .forward-icon::after {
  color: var(--icon-hover-color);
}

/* Volume Icon - Bạn có label 🔊 trực tiếp trong HTML nên icon CSS này không được dùng */
/* Nếu bạn muốn dùng icon CSS cho volume, hãy bỏ label 🔊 và thêm <span class="control-icon volume-icon"></span> vào HTML */
.volume-icon::before {
  content: "";
  width: 0;
  height: 0;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 10px solid var(--icon-color);
  position: absolute;
  left: 30%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.volume-icon::after {
  content: "";
  width: 5px;
  height: 10px;
  border: 2px solid var(--icon-color);
  border-left: none;
  border-radius: 0 50% 50% 0;
  position: absolute;
  left: 45%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* Thanh tiến trình và thanh âm lượng */
.progress-container {
  width: 100%;
  max-width: 450px; /* Vẫn giữ max-width cho thanh tiến trình */
}

.form-range {
  -webkit-appearance: none;
  appearance: none;
  height: 8px;
  background: transparent;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 1;
}

/* Track (phần chưa đi qua) của thanh tiến trình và âm lượng */
.form-range::-webkit-slider-runnable-track {
  width: 100%;
  height: 8px;
  background: var(--range-track-bg);
  border-radius: 5px;
}

.form-range::-moz-range-track {
  width: 100%;
  height: 8px;
  background: var(--range-track-bg);
  border-radius: 5px;
}

/* Thumb (nút kéo) */
.form-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--range-thumb-bg);
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  margin-top: -6px; /* Căn chỉnh với track */
}

.form-range::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--range-thumb-bg);
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* Phần đã qua của thanh tiến trình và âm lượng */
/* Sử dụng background-image để tạo gradient cho phần đã qua */
/* Đặt gradient trực tiếp vào track thay vì toàn bộ element */
#progress::-webkit-slider-runnable-track,
#volume::-webkit-slider-runnable-track {
  background: linear-gradient(
    to right,
    var(--range-filled-bg) 0%,
    var(--range-filled-bg) var(--progress-percent, 0%),
    var(--range-track-bg) var(--progress-percent, 0%),
    var(--range-track-bg) 100%
  );
}

#progress::-moz-range-track,
#volume::-moz-range-track {
  background: linear-gradient(
    to right,
    var(--range-filled-bg) 0%,
    var(--range-filled-bg) var(--progress-percent, 0%),
    var(--range-track-bg) var(--progress-percent, 0%),
    var(--range-track-bg) 100%
  );
}

/* Fix cho Firefox để thumb không bị đè màu gradient */
#progress::-moz-range-thumb,
#volume::-moz-range-thumb {
  background: var(--range-thumb-bg);
}

/* Màu cho hiển thị thời gian */
#current-time,
#duration {
  color: var(--time-text-color); /* Sử dụng biến màu mới */
}

/* Điều chỉnh vị trí d-flex cho tiêu đề và nút toggle */
.d-flex.justify-content-between.align-items-center.mb-3 {
  background-color: var(--card-bg);
  padding: 10px 15px;
  border-radius: 10px;
  border: 1px solid var(--border-color);
}

#playlist {
  list-style: none;
  padding: 0;
  max-height: 600px; /* Giới hạn chiều cao cho playlist */
  overflow-y: auto; /* Thêm scroll khi quá dài */
  border: 1px solid var(--border-color); /* Sử dụng border-color chung */
  border-radius: 10px;
  background-color: var(--card-bg); /* Đảm bảo nền playlist cùng màu card */
}

#playlist::-webkit-scrollbar {
  width: 8px;
}

#playlist::-webkit-scrollbar-track {
  background: var(--card-bg);
  border-radius: 10px;
}

#playlist::-webkit-scrollbar-thumb {
  background: var(--item-hover);
  border-radius: 10px;
}

#playlist::-webkit-scrollbar-thumb:hover {
  background: var(--control-btn-hover);
}

#playlist li {
  cursor: pointer;
  margin-bottom: 8px;
  border-radius: 10px;
  padding: 12px 15px;
  display: flex;
  align-items: center;
  background-color: var(--card-bg);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
  border: 1px solid var(--border-color); /* Sử dụng border-color chung */
}

#playlist li:last-child {
  margin-bottom: 0;
}

#playlist li:hover {
  background-color: var(--item-hover);
  transform: translateY(-2px);
}

#playlist li.active {
  background-color: var(--active-bg);
  color: var(--active-text);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px);
}

#playlist li img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 8px;
  margin-right: 15px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

#playlist li span {
  text-align: left;
  flex: 1;
  font-size: 1rem;
  font-weight: 400;
}

/* Toggle mode button styling (giữ nguyên) */
#toggle-mode {
  border: 1px solid;
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease;
  padding: 8px 15px;
  border-radius: 5px;
  font-weight: bold;
  background-color: var(--toggle-btn-bg-dark-mode);
  color: var(--toggle-btn-text-dark-mode);
  border-color: var(--toggle-btn-text-dark-mode);
}

#toggle-mode:hover {
  background-color: var(--toggle-btn-hover-bg-dark-mode);
  color: var(--toggle-btn-hover-text-dark-mode);
  border-color: var(--toggle-btn-hover-text-dark-mode);
}

body.light-mode #toggle-mode {
  background-color: var(--toggle-btn-bg-light-mode);
  color: var(--toggle-btn-text-light-mode);
  border-color: var(--toggle-btn-text-light-mode);
}

body.light-mode #toggle-mode:hover {
  background-color: var(--toggle-btn-hover-bg-light-mode);
  color: var(--toggle-btn-hover-text-light-mode);
  border-color: var(--toggle-btn-hover-text-light-mode);
}

/* Dropdown menu for speed and timer */
.dropdown .btn.btn-secondary.dropdown-toggle {
  background-color: var(--control-btn-bg);
  border: none;
  border-radius: 10px;
  width: auto;
  height: 45px;
  padding: 8px 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s ease, transform 0.2s ease;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  color: var(--text-color);
  font-size: 0.95rem;
}

.dropdown .btn.btn-secondary.dropdown-toggle:hover {
  background-color: var(--control-btn-hover);
  transform: translateY(-2px);
  color: var(--icon-hover-color);
}

/* Style cho các icon bên trong nút dropdown */
.speed-icon,
.sleep-timer-icon {
  color: var(--icon-color);
  font-size: 1.1rem;
  transition: color 0.3s ease;
}

.dropdown .btn.btn-secondary.dropdown-toggle:hover .speed-icon,
.dropdown .btn.btn-secondary.dropdown-toggle:hover .sleep-timer-icon {
  color: var(--icon-hover-color);
}

/* Cập nhật style cho dropdown menu */
.dropdown-menu {
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  padding: 8px 0;
  min-width: 150px;
}
.dropdown-item {
  color: var(--text-color);
  transition: background-color 0.2s ease, color 0.2s ease;
  padding: 10px 15px;
  font-size: 0.95rem;
}
.dropdown-item:hover,
.dropdown-item:focus {
  background-color: var(--item-hover);
  color: var(--text-color);
}

.light-mode .dropdown-menu {
  background-color: var(--card-bg);
  border-color: var(--border-color);
}
.light-mode .dropdown-item {
  color: var(--text-color);
}
.light-mode .dropdown-item:hover,
.light-mode .dropdown-item:focus {
  background-color: var(--item-hover);
  color: var(--text-color);
}

/* Responsive adjustments */
@media (max-width: 767.98px) {
  .col-md-4,
  .col-md-8 {
    width: 100%;
  }

  /* Đảm bảo thứ tự phù hợp trên mobile */
  .order-1 {
    order: 1 !important;
  }
  .order-2 {
    order: 2 !important;
  }

  /* Player không cần padding riêng nữa, các div con đã có */
  #player {
    margin-bottom: 20px;
    padding: 0;
  }

  .player-content {
    padding: 20px; /* Padding cho nội dung player trên mobile */
  }

  #visualizer-container {
    padding: 20px; /* Padding cho visualizer trên mobile */
    min-height: 150px; /* Chiều cao tối thiểu cho visualizer ngang trên mobile */
  }

  #song-img {
    width: 180px;
    height: 180px;
  }

  #current-song {
    font-size: 1.3rem;
  }

  .btn-control {
    width: 50px;
    height: 50px;
  }

  .btn-play-pause {
    width: 70px;
    height: 70px;
  }

  /* Điều chỉnh kích thước icon trong responsive nếu cần */
  .play-pause-icon::before,
  .btn-play-pause.playing .play-pause-icon::before,
  .btn-play-pause.playing .play-pause-icon::after {
    transform: scale(0.8) translate(-50%, -50%);
  }
  .prev-icon::before,
  .prev-icon::after,
  .next-icon::before,
  .next-icon::after,
  .shuffle-icon::before,
  .shuffle-icon::after,
  .repeat-icon::before,
  .repeat-icon::after,
  .repeat-icon.repeat-one::after,
  .rewind-icon::before,
  .rewind-icon::after,
  .forward-icon::before,
  .forward-icon::after {
    transform: scale(0.8) translate(-50%, -50%);
  }

  #playlist li {
    padding: 10px;
  }

  #playlist li img {
    width: 50px;
    height: 50px;
  }

  #playlist li span {
    font-size: 0.9rem;
  }

  /* Đảm bảo visualizer trên mobile là ngang */
  #visualizer {
    width: 100%; /* Chiếm toàn bộ chiều rộng */
    height: 100px; /* Chiều cao nhỏ hơn trên mobile */
  }
}
